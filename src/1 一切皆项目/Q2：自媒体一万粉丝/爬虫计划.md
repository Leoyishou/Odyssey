---
draw:
tags: []
title: 爬虫计划
date created: 2024-11-05
date modified: 2024-12-27
---

理解流媒体技术的原理：

HLS协议的工作机制  
m3u8播放列表的结构  
视频分片和串流的原理  
自适应码率的实现方式

我来解释一下你看到的网络请求情况：

从截图中可以看到，这些请求主要分为两种类型的文件：

1. `.mp4` 格式的文件 - 这些是视频片段
2. `.m3u8` 格式的文件 - 这是一种播放列表文件

这种模式是现代视频网站普遍采用的 HLS (HTTP Live Streaming) 流媒体技术：

1. `.m3u8` 文件是索引文件，包含了视频片段的播放顺序和地址信息。它告诉播放器应该按什么顺序播放这些视频片段。
2. `.mp4` 文件是实际的视频数据，但被切成了小片段（比如每个片段几秒钟）。从文件名可以看出，这些片段都是 160p 分辨率的视频片段。

这种技术的优点是：

- 可以实现自适应码率流媒体（根据网络状况自动调整视频质量）
- 支持视频跳转（不用下载整个视频文件）
- 有利于CDN缓存和分发
- 降低视频加载失败的风险（只需重新加载出错的片段）

所以真正的视频数据是那些.mp4 文件，但它们需要按照.m3u8 文件的指示顺序播放才能形成完整的视频内容。这就是为什么你会看到持续的网络请求 - 播放器在按需获取新的视频片段。
